(function(){"use strict";var t={723:function(t,e,o){var n=o(471),i=o(605),s=o(745),l=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("TODO List")]),e("h2",[t._v("UNDONE")]),e("table",[t._m(0),e("tbody",[t.allStatusTrue?e("tr",[t._m(1)]):t._e(),t._l(t.todos,(function(o){return e("tr",{key:o.id},[o.status?t._e():[e("td",[e("button",{on:{click:function(e){return t.completeTask(o.id)}}},[t._v("完了")])]),e("td",{class:{overdue:t.isOverdue(o.limit_date)}},[t._v(t._s(o.limit_date))]),e("td",{class:{overdue:t.isOverdue(o.limit_date)}},[t._v(t._s(o.content))]),e("td",[e("button",{on:{click:function(e){return t.openEditModal(o)}}},[t._v("編集")])]),e("td",[e("button",{on:{click:function(e){return t.openDelModal(o)}}},[t._v("削除")])])]],2)}))],2)]),e("button",{staticClass:"register-button",attrs:{type:"button"},on:{click:function(e){t.showAddModal=!0}}},[t._v("登録")]),t.selectedEsitTodo?e("EditModal",{attrs:{todo:t.selectedEsitTodo},on:{close:function(e){t.selectedEsitTodo=null}}}):t._e(),t.selectedDelTodo?e("DeleteModal",{attrs:{todo:t.selectedDelTodo},on:{close:function(e){t.selectedDelTodo=null}}}):t._e(),t.showAddModal?e("AddModal",{on:{close:function(e){t.showAddModal=!1}}}):t._e(),e("div",{staticClass:"list-header",on:{click:function(e){return t.toggle()}}},[e("h2",[t._v("DONE")]),e("span",[t._v(t._s(t.isOpen?"▲":"▼"))])]),t.isOpen?e("div",{staticClass:"list-content"},[e("table",[t._m(2),e("tbody",[t.allStatusFlase?e("tr",[e("td",{staticClass:"no-tasks",attrs:{colspan:"4"}},[t._v(" 現在の完了済みTODOはありません。 ")])]):t._e(),t._l(t.todos,(function(o){return e("tr",{key:o.id},[o.status?[e("td",[t._v(t._s(o.limit_date))]),e("td",[t._v(t._s(o.content))]),e("td",[e("button",{on:{click:function(e){return t.openLogEditModal(o)}}},[t._v("編集")])]),e("td",[e("button",{on:{click:function(e){return t.openDelModal(o)}}},[t._v("削除")])])]:t._e()],2)}))],2)])]):t._e(),t.selectedLogEditTodo?e("LogEditModal",{attrs:{todo:t.selectedLogEditTodo},on:{close:function(e){t.selectedLogEditTodo=null}}}):t._e(),t.selectedDelTodo?e("DeleteModal",{attrs:{todo:t.selectedDelTodo},on:{close:function(e){t.selectedDelTodo=null}}}):t._e()],1)},d=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("完了")]),e("th",[t._v("期限")]),e("th",[t._v("TODO内容")]),e("th"),e("th")])])},function(){var t=this,e=t._self._c;return e("td",{staticClass:"no-tasks",attrs:{colspan:"5"}},[t._v(" 現在のTODOはありません。"),e("br"),t._v(" 登録する場合は下の登録ボタンを押してください。"),e("br"),t._v(" ↓"),e("br")])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("期限")]),e("th",[t._v("TODO内容")]),e("th"),e("th")])])}],a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-bg"},[e("div",{staticClass:"modal"},[e("h2",[t._v("～タスクの編集～")]),e("h3",[t._v("締切日")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.limit_date,expression:"limit_date"}],attrs:{id:"date",type:"date"},domProps:{value:t.limit_date},on:{input:function(e){e.target.composing||(t.limit_date=e.target.value)}}}),e("h3",[t._v("TODO内容")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{id:"content",type:"text"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),e("p",[e("button",{on:{click:function(e){return t.edit()}}},[t._v("編集")]),e("button",{on:{click:function(e){return t.$emit("close")}}},[t._v("閉じる")])])])])},r=[],c={data(){return{content:this.todo.content,limit_date:this.formatDate(this.todo.limit_date),id:this.todo.id}},methods:{formatDate(t){const e=new Date(t),o=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${o}-${n}-${i}`},async edit(){console.log("edit");try{const t=JSON.stringify({id:this.todo.id,limit_date:this.limit_date,content:this.content});await this.axios.post("http://127.0.0.1:5000/edit",t),window.location.reload(),this.$emit("close")}catch(t){console.error("編集エラー:",t)}}},props:["todo"]},u=c,_=o(656),h=(0,_.A)(u,a,r,!1,null,null,null),p=h.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-bg"},[e("div",{staticClass:"modal"},[e("p",[t._v("履歴タスクの編集")]),e("h3",[t._v("締切日")]),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.limit_date,expression:"limit_date"}],attrs:{name:"date",type:"date"},domProps:{value:t.limit_date},on:{input:function(e){e.target.composing||(t.limit_date=e.target.value)}}})]),e("h3",[t._v("TODO内容")]),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{type:"text"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),e("p",[e("button",{on:{click:function(e){return t.openLogRelodeModal(t.limit_date,t.content,t.id)}}},[t._v("編集")]),t.selectedRelodeTodo?e("RelodeModal",{attrs:{todo:t.selectedRelodeTodo},on:{close:function(e){t.selectedRelodeTodo=null}}}):t._e(),e("button",{on:{click:function(e){return t.$emit("close")}}},[t._v("閉じる")])],1)])])},v=[],f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-bg"},[e("div",{staticClass:"modal"},[e("button",{staticClass:"buck_button",on:{click:function(e){return t.$emit("close")}}},[t._v("戻る")]),e("p",[t._v("以下のTODO内容でUNDONEリストに追加しますか？")]),e("h3",[t._v("締切日")]),e("p",[t._v(t._s(t.limit_date))]),e("h3",[t._v("TODO内容")]),e("p",[t._v(t._s(t.content))]),e("p",[e("button",{on:{click:function(e){return t.log_edit_add_list()}}},[t._v("追加する")]),e("button",{on:{click:function(e){return t.log_only_update()}}},[t._v("履歴のみ更新")])])])])},g=[],O={props:{todo:{type:Object,required:!0}},data(){return{content:this.todo.content,limit_date:this.formatDate(this.todo.limit_date),id:this.todo.id}},methods:{formatDate(t){const e=new Date(t),o=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${o}-${n}-${i}`},log_edit_add_list(){try{const t=JSON.stringify({id:this.id,limit_date:this.limit_date,content:this.content});this.axios.post("http://127.0.0.1:5000/log_edit_add_list",t),window.location.reload(),this.$emit("close")}catch(t){console.error("編集エラー:",t)}},log_only_update(){try{const t=JSON.stringify({id:this.id,limit_date:this.limit_date,content:this.content});this.axios.post("http://127.0.0.1:5000/edit",t),window.location.reload(),this.$emit("close")}catch(t){console.error("編集エラー:",t)}}}},b=O,y=(0,_.A)(b,f,g,!1,null,null,null),D=y.exports,T={props:{todo:{type:Object,required:!0}},components:{RelodeModal:D},data(){return{showRelodeModal:!1,selectedRelodeTodo:null,id:this.todo.id,content:this.todo.content,limit_date:this.formatDate(this.todo.limit_date)}},methods:{formatDate(t){const e=new Date(t),o=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${o}-${n}-${i}`},openLogRelodeModal(t,e,o){const n={content:e,limit_date:t,id:o};this.selectedRelodeTodo=n}}},w=T,M=(0,_.A)(w,m,v,!1,null,null,null),k=M.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-bg"},[e("div",{staticClass:"modal"},[e("h2",[t._v("～タスクの登録～")]),e("h3",[t._v("締切日")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.limit_date,expression:"limit_date"}],attrs:{id:"date",type:"date",placeholder:"締切日を入力してください"},domProps:{value:t.limit_date},on:{input:function(e){e.target.composing||(t.limit_date=e.target.value)}}}),e("h3",[t._v("TODO内容")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{id:"content",type:"text",placeholder:"TODO内容を入力してください"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),e("p",[e("button",{attrs:{disabled:!t.limit_date||!t.content},on:{click:t.insert}},[t._v("登録")]),e("button",{on:{click:function(e){return t.$emit("close")}}},[t._v("閉じる")])])])])},x=[],E={data:()=>({limit_date:null,content:null,success:null}),methods:{async insert(){if(this.limit_date&&this.content){this.success=null;try{const t=JSON.stringify({limit_date:this.limit_date,content:this.content});await this.axios.post("http://127.0.0.1:5000/insert",t),window.location.reload(),this.$emit("close")}catch(t){console.error("編集エラー:",t)}}}}},$=E,A=(0,_.A)($,S,x,!1,null,null,null),C=A.exports,N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-bg"},[e("div",{staticClass:"modal"},[e("p",[t._v("以下のTODOを削除しますか？")]),e("h3",[t._v("締切日")]),e("p",[t._v(t._s(t.limit_date))]),e("h3",[t._v("TODO内容")]),e("p",[t._v(t._s(t.content))]),e("p",[e("button",{on:{click:function(e){return t.del()}}},[t._v("はい")]),e("button",{on:{click:function(e){return t.$emit("close")}}},[t._v("いいえ")])])])])},j=[],L={props:{todo:{type:Object,required:!0},onClickSubmit:{type:Function,default:null}},data(){return{content:this.todo.content,limit_date:this.formatDate(this.todo.limit_date)}},methods:{formatDate(t){const e=new Date(t),o=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${o}-${n}-${i}`},async del(){console.log("delete");try{const t={id:this.todo.id};await this.axios.post("http://127.0.0.1:5000/delete",t),window.location.reload(),this.$emit("close")}catch(t){console.error("削除エラー:",t)}}}},P=L,R=(0,_.A)(P,N,j,!1,null,null,null),F=R.exports,J={components:{EditModal:p,AddModal:C,DeleteModal:F,LogEditModal:k},data(){return{showEditModal:!1,showAddModal:!1,showDeleteModal:!1,showLogEditModal:!1,selectedEsitTodo:null,selectedDelTodo:null,selectedLogEditTodo:null,todos:[],isOpen:!1}},computed:{allStatusTrue(){return this.todos.every((t=>1===t.status))},allStatusFlase(){return this.todos.every((t=>0===t.status))}},methods:{toggle(){this.isOpen=!this.isOpen},openEditModal(t){this.selectedEsitTodo=t},openDelModal(t){this.selectedDelTodo=t},openLogEditModal(t){this.selectedLogEditTodo=t},list_get(){i.A.get("http://127.0.0.1:5000/get_list").then((t=>{this.todos=t.data}))},async completeTask(t){try{const e=await i.A.post("http://127.0.0.1:5000/completion",{id:t});200===e.status?(this.status="TODOリストが更新されました！",this.refreshTasks()):this.status="処理に失敗しました"}catch(e){console.error("完了処理エラー:",e),this.status="処理に失敗しました"}},async refreshTasks(){try{const t=await i.A.get("http://127.0.0.1:5000/get_list");this.todos=t.data}catch(t){console.error("タスクリスト取得エラー:",t)}},isOverdue(t){const e=new Date,o=new Date(t);return o<e}},mounted(){this.list_get(),this.refreshTasks()}},Y=J,q=(0,_.A)(Y,l,d,!1,null,null,null),U=q.exports;n.Ay.use(s.A,i.A),new n.Ay({render:t=>t(U)}).$mount("#app")}},e={};function o(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={id:n,loaded:!1,exports:{}};return t[n](s,s.exports,o),s.loaded=!0,s.exports}o.m=t,function(){o.amdO={}}(),function(){var t=[];o.O=function(e,n,i,s){if(!n){var l=1/0;for(c=0;c<t.length;c++){n=t[c][0],i=t[c][1],s=t[c][2];for(var d=!0,a=0;a<n.length;a++)(!1&s||l>=s)&&Object.keys(o.O).every((function(t){return o.O[t](n[a])}))?n.splice(a--,1):(d=!1,s<l&&(l=s));if(d){t.splice(c--,1);var r=i();void 0!==r&&(e=r)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[n,i,s]}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,s,l=n[0],d=n[1],a=n[2],r=0;if(l.some((function(e){return 0!==t[e]}))){for(i in d)o.o(d,i)&&(o.m[i]=d[i]);if(a)var c=a(o)}for(e&&e(n);r<l.length;r++)s=l[r],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(c)},n=self["webpackChunkbmi"]=self["webpackChunkbmi"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(723)}));n=o.O(n)})();
//# sourceMappingURL=app.4f2bfcec.js.map